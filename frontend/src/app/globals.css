@import "tailwindcss";

/* --------------------------------------------------------
   DESIGN SYSTEM: Simplified â€” Fehrist Palette
--------------------------------------------------------- */
@layer base {
  :root {
    /* ðŸŒž Light Mode */
    --color-background: hsl(45 42% 83%); /* Dutch white (#ece1c1) */
    --color-foreground: hsl(0 0% 8%);    /* Night (#141414) */

    --color-surface: hsl(45 48% 76%);    /* Vanilla (#e2d3a2) */
    --color-surface-foreground: hsl(0 0% 8%);

    --color-primary: hsl(100 55% 36%);    /* Pakistan green (#24381a) */
    --color-primary-foreground: hsl(45 42% 83%);

    --color-accent: hsl(10 96% 32%);     /* Rufous (#9e2105) */
    --color-accent-foreground: hsl(45 42% 83%);

    --color-muted: hsl(45 30% 70%);
    --color-muted-foreground: hsl(0 0% 30%);

    --color-border: hsl(45 35% 70%);
    --color-input: hsl(45 40% 75%);
    --color-ring: hsl(45 40% 75%);

    --radius: 1rem;

    /* âœ¨ Glow */
    --color-ai-primary: hsl(270 55% 50%);
    --color-ai-secondary: hsl(220 55% 55%);
    --color-ai-glow-start: hsl(270 50% 50%);
    --color-ai-glow-end: hsl(220 50% 55%);
  }

  .dark {
    /* ðŸŒ™ Dark Mode */
    --color-background: hsl(0 7% 16%);   /* Raisin black (#2b2727) */
    --color-foreground: hsl(45 42% 83%); /* Dutch white 2 (#ece1c1) */

    --color-surface: hsl(0 6% 27%);      /* Taupe (#4b4444) */
    --color-surface-foreground: hsl(45 42% 83%);

    --color-primary: hsl(94 62% 26%);    /* Dark moss green (#3f622d) */
    --color-primary-foreground: hsl(45 42% 83%);

    --color-accent: hsl(10 94% 44%);     /* Sinopia (#d92e08) */
    --color-accent-foreground: hsl(45 42% 83%);

    --color-muted: hsl(0 6% 22%);
    --color-muted-foreground: hsl(45 20% 65%);

    --color-border: hsl(0 6% 22%);
    --color-input: hsl(0 6% 27%);
    --color-ring: hsl(0 6% 27%);

    /* âœ¨ Glow */
    --color-ai-primary: hsl(270 45% 55%);
    --color-ai-secondary: hsl(220 45% 60%);
    --color-ai-glow-start: hsl(270 45% 55%);
    --color-ai-glow-end: hsl(220 45% 60%);
  }
}

/* --------------------------------------------------------
   THEME TOKENS â€” Tailwind v4-compatible mapping
--------------------------------------------------------- */
@theme {
  --color-background: var(--color-background);
  --color-foreground: var(--color-foreground);
  --color-surface: var(--color-surface);
  --color-surface-foreground: var(--color-surface-foreground);
  --color-primary: var(--color-primary);
  --color-primary-foreground: var(--color-primary-foreground);
  --color-accent: var(--color-accent);
  --color-accent-foreground: var(--color-accent-foreground);
  --color-muted: var(--color-muted);
  --color-muted-foreground: var(--color-muted-foreground);
  --color-border: var(--color-border);
  --color-input: var(--color-input);
  --color-ring: var(--color-ring);
  --color-ai-primary: var(--color-ai-primary);
  --color-ai-secondary: var(--color-ai-secondary);
  --color-ai-glow-start: var(--color-ai-glow-start);
  --color-ai-glow-end: var(--color-ai-glow-end);
}

/* --------------------------------------------------------
   BASE STYLES â€” Textures & Typography
--------------------------------------------------------- */
@layer base {
  * {
    border-color: var(--color-border);
  }

  body {
    background-color: var(--color-background);
    color: var(--color-foreground);
    font-family: "DM Sans", system-ui, -apple-system, sans-serif;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  body:not(.dark) {
    background-image:
      radial-gradient(circle at 20% 50%, hsl(45 48% 85% / 0.3) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, hsl(45 42% 80% / 0.3) 0%, transparent 50%);
  }

  .dark body {
    background-image:
      radial-gradient(circle at 30% 40%, hsl(0 6% 18% / 0.5) 0%, transparent 50%),
      radial-gradient(circle at 70% 60%, hsl(0 6% 20% / 0.5) 0%, transparent 60%);
  }
}

/* --------------------------------------------------------
   UTILITIES â€” Animations & Scrollbar Hiding
--------------------------------------------------------- */
@layer utilities {
  @keyframes checkPop {
    0%   { transform: scale(0.4); opacity: 0; }
    60%  { transform: scale(1.2); opacity: 1; }
    100% { transform: scale(1); }
  }

  .animate-check-pop {
    animation: checkPop 0.25s ease-out;
  }

  .animate-check-idle {
    transition: opacity 0.2s ease;
  }
  
  @keyframes aiPulse {
    0%, 100% {
      box-shadow:
        0 0 6px rgba(147, 51, 234, 0.25),
        0 0 12px rgba(59, 130, 246, 0.18);
    }
    50% {
      box-shadow:
        0 0 10px rgba(147, 51, 234, 0.35),
        0 0 18px rgba(59, 130, 246, 0.28);
    }
  }

  .after\:animate-aiPulse::after {
    animation: aiPulse 3s ease-in-out infinite;
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    20% { transform: translateX(-4px); }
    40% { transform: translateX(4px); }
    60% { transform: translateX(-4px); }
    80% { transform: translateX(4px); }
  }

  .shake {
    animation: shake 0.3s ease-in-out;
  }

  .text-shadow-sm {
    text-shadow: 0 1px 2px rgba(0,0,0,0.15);
  }

  .text-shadow {
    text-shadow: 0 2px 4px rgba(0,0,0,0.25);
  }

  .text-shadow-lg {
    text-shadow: 0 4px 12px rgba(0,0,0,0.35);
  }

  .hide-scrollbar {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
}